---
title: "面向室内场景实时监控的视频无线传输与复现"
collection: publications
permalink: /publication/B.S.Thesis
excerpt: 'This paper is about IT-HYFAO-VO.'
date: 2021-08-24
venue: 'Beihang University'
paperurl: 'http://sunqinxuan.github.io/files/publications-2013-06-01-B.S.Thesis.pdf'
citation: '孙沁璇. 面向室内场景实时监控的视频无线传输与复现[D]. 北京航空航天大学, 2013.'
---

## 背景

- 面向室内场景实时监控的应用
- 传统意义上的实时监控系统只能在接收端实时再现当前视频帧的场景
- 提出并初步实现利用连续获取的视频帧，重构场景三维点云地图

## 理论基础

### 三维点云生成原理

- Kinect（微软XBOX 游戏机的一款体感外设）可以直接获取彩色图像像素点对应的空间点的深度信息
- 根据计算机视觉相关理论完成三维点云的生成

### 基于无线传输的室内实时监控

- 基于应用场景（室内环境）以及实时性（视频传输）的要求，本文选择运用WIFI无线传输技术
- 通过Windows中的Winsock套接口，利用UDP协议来完成视频（彩色图像流）以及点云数据的无线传输

### 点云匹配与全局点云地图的生成

1.相邻两帧之间点云匹配的必要性：

- 摄像头（Kinect）不断运动
- 每帧生成的点云是在其独立的摄像头坐标系下
- 需要通过匹配将其统一在同一个坐标系下才能完成全局地图的生成
- 即求解两个坐标系的变换关系
  - 旋转矩阵R
  - 平移向量T

2.常见点云匹配的实现主要有如下两种思路：

- 已知相邻两帧点云之间的对应点
  - 理论上，只要已知两个点云之间的四个对应点对，便可以通过线性方程组直接计算出两个点云之间的变换关系；
  - 但对应点的选取非常困难，实时性好但准确性及鲁棒性都很低
- 不需知道相邻两帧点云之间的对应点
  - 每个点云中都有大量点参与运算
  - 通过迭代过程使两个点云最终达到重合
  - 并得到变换关系
  - 如迭代最近点（ICP）的算法

3.点云匹配与全局点云地图的生成

相邻两帧点云的匹配：迭代最近点（ICP）算法

- 算法流程：

![img](https://sunqinxuan.github.io/images/publications-BSThesis-2013-06-01-img1.png)

- 通过迭代过程，计算出两个三维点云（形状）之间的空间变换关系，使得经过变换后的点云达到完全重合的效果。

- 用ICP进行点云匹配 时遇到如下问题：
  - 获取的点云数据量较大，ICP算法运行过程慢，影响整个系统实时性。
  - Kinect运动的过程中，采集到两帧数据之间有非重叠区域（两帧点云变换后不能完全重合），影响ICP的匹配效果。

- 为了解决上述问题，本文采用的解决方法是：

  - 在相邻两帧彩色图像提取特征点并匹配(如P'与0)

  - 将其投影到各自的三维空间点云中(P与0)

  - 以特征点(P与0)为依据选取出相邻两帧点云之间的对应区域(点云子集)

  - 最后在该子集上运行ICP算法得到两个点云之间的变换关系(R与T)

- 先选取区域再进行匹配的好处有：

  - 运行ICP算法时不必遍历整个点云——实时性
  - 避免两帧点云之间的非重合区域造成的误差——准确性
  - 利用匹配特征点来选取对应区域，而不是直接用特征点参与运算——鲁棒性


- ICP算法实现

```c++
while (距离平方和大于某阈值)
｛
    sel_data_set = Selection_DataSet(data_set,x1,y1); 
    //根据特征点选取相邻两帧点云对应区域的函数
    //x1,y1为特征点坐标
    sel_model_set = Selection_ModelSet(model_set,x2,y2);
    yset = Matching(sel_data_set, sel_model_set);
    TransformPoint3DSet(*delta, sel_data_set);
    //delta 为初始变换
    Transformation RT;
    RT = GetOptimalRotation(sel_data_set, yset);
    //计算空间变换参数的函数
    TransformPoint3DSet(RT, sel_data_set);
    //将空间变换参数转换成旋转矩阵与平移向量
    //并作用于点集data_set
｝

```









